---
layout: post
title:  "STM32中ADC和TIM定时器的使用"
date:   2018-12-4 22:52:00
categories: STM32
tags: STM32 C 嵌入式
excerpt: ADC和TIM使用
mathjax: true
---

前段时间在做嵌入式工作室招新题时，涉及到一下几个内容：`PWM调光`，`ADC读取电压值`，`通过NPN三极管控制LED灯`。

首先，最简单的是通过`NPN三极管`控制LED灯，首先关于三极管有以下基本知识：
    1.三极管有三个引脚，分别是`基极(B)`，`集电极(C)`和`发射极(E)`。电流由`集电极`和`基极`流入，从`发射极`流出。三极管的放大作用就是：集电极电流受基极电流的控制(假设电源能够提供给集电极足够大的电流的话)，并且基极电流很小的变化，会引起集电极电流很大的变化，且变化满足一定的比例关系：集电极电流的变化量是基极电流变化量的β倍，即电流变化被放大了β倍，所以我们把β叫做三极管的放大倍数(β一般远大于1，例如几十，几百)。如果我们将一个变化的小信号加到基极跟发射极之间，这就会引起`基极电流Ib`的变化，Ib的变化被放大后，导致了Ic很大的变化。如果`集电极电流Ic`是流过一个电阻R的，那么根据电压计算公式U=R*I可以算得，这电阻上电压就会发生很大的变化。我们将这个电阻上的电压取出来，就得到了放大后的电压信号了。而在本题中，需要使用NPN三极管控制LED的点亮与熄灭，那么就通过控制基极上的高低电平，来控制集电极电流IC的大小（有无），来达到控制LED的效果。
	![](https://i.imgur.com/UWe1tYk.jpg)
	`图1：三极管引脚图`
	![](https://i.imgur.com/K6ikYHj.png)
	`控制电路图`
	2.